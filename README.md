# ForSyDe group main web page

This repo holds the [Jekyll](https://jekyllrb.com/) template for the ForSyDe Group's main public web pages hosted at [forsyde.github.io](forsyde.github.io). Follow the instructions below if you want to contribute or do modifications.

## Contributing to the site

Here is how you can contribute to this site:

### Adding/editing web pages

The templates for generating web pages are found in `/index.md` and `/pages/*`. They can be in any format among Markdown, Texify or plain HTML, and might contain [Liquid](https://github.com/Shopify/liquid/wiki) template syntax. When writing a new page, do not forget the [Jekyll preamble](https://jekyllrb.com/docs/pages/) especially the `permalink` and `layout` variables. Check existing pages for tips, and the [forsyde-web-theme documentation](https://github.com/forsyde/forsyde-web-theme/blob/master/docs/README.md) for a list of all variables. Also, the [Markdown cheatsheet](https://github.com/forsyde/forsyde-web-theme/blob/master/index.md) might also come in handy.

Do not modify anything in `/pages/news/*` or `/pages/publications/*` since they are generated by scripts generated. 

### Writing news

A news article is just a normal source page (usually Markdown), that:

 * needs to be placed under the `_posts` directory;
 * needs to follow the naming convention `YEAR-MONTH-DAY-title.MARKUP`, e.g. `2012-09-12-how-to-write-a-blog.md`. 
 * needs to have a document preamble like any other page. Apart from the usual variables, the following also apply:
   - `date`: for a more fine-grained manipulation of the date, e.g. `2015-11-17 16:16:01 -0600`
   - `categories`: are written as lists (e.g. `[cat1, cat2, ...]`), and *need* to avoid whitespaces. The recommended categories are `news, updates, release_notes, announcements`. Before making a new category make sure you *really need it*! Also, check the spellig.
   
In case you added categories, to generate the new page structure, run the script
   
    cd scripts
	./make-news-tags

### Adding static resources

Static resources are found in `assets`, under their appropriate folder. E.g. images should be added under `assets/images/` folder. 

### Adding site-wide styles

CSS styles which are active on this site alone (they are ignored on project sites), can be added in `assets/css/style.css`. 

### Updating publications page

The source Bib file is found in `assets/bib/publications.bib`. Modify it accordingly.
	
## Verifying if the site builds

The site at https://forsyde.github.io/ is re-generated every time someone pushes to the `master` branch. This means that it would be wise to render it locally and verify it on `localhost:4000` before any changes are commited publicly.

First you need to install [Jekyll](https://jekyllrb.com/docs/installation/) and other dependencies. On Ubuntu, you would do

    # install make and gcc
    sudo apt install build-essential
	
	# install Ruby
	sudo apt install ruby-all-dev
	
	# build Jekyll
	sudo gem install jekyll bundler
	
	# set up this site
	cd path/to/this/repo
    bundle install

In order to start the preview server, run

    bundle exec jekyll serve
	
Visit [`localhost:4000`](http://localhost:4000) in your browser to preview the theme.

## Updating ForSyDe tool and library pages

To update the documentation of individual ForSyDe repositories of the ForSyDe organisation like [forsyde-shallow](https://github.com/forsyde/forsyde-shallow), checkout the corresponding repository and then checkout the branch `gh-pages`. In this branch you can modify the documentation by modifying the web pages under `pages`. The documentation will be updated on the local server when an updated file is saved, and on the web server when the branch `gh-pages` is pushed. 
